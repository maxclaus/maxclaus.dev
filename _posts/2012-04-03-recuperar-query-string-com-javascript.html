---
layout: post
title: Recuperar Query String com Javascript
categories:
- JavaScript
tags:
- asp.net
- javascript
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _aioseop_keywords: Recuperar ,Query, String, Javascript
  _aioseop_description: Recuperar Query String com Javascript
  _aioseop_title: Recuperar Query String com Javascript
  simplecatch-sidebarlayout: ''
author:
  login: maxcnunes
  email: maxcnunes@gmail.com
  display_name: maxcnunes
  first_name: ''
  last_name: ''
---


<img class="size-thumbnail wp-image-590" title="recuperar-url-javascript" src="/assets/recuperar-url-javascript-150x150.jpg" alt="" width="150" height="150" />

<p>Quando se está trabalhando com client side, tudo que for possível manter do lado do cliente e não for comprometer a segurança das informações, é preferível que não passe para o lado do servidor, por diminuir as requisições ao servidor e aumentar dessa forma a performance.</p>
<p>Uma situação bem comum é enviar informações de uma página à outra através de query string na url. Na forma que irei apresentar aqui neste artigo, torna a tarefa de recuperar essas informações no javascript, bem mais simples e prática.</p>
<p><!--more--></p>
<p>A função a seguir utiliza de replace e regex para preparar a url e filtrar pela chave da query string desejada.</p>
<p><code lang="javascript">        //Função comum para receuperar querystrings<br />
        function getQuerystring(key, default_) {<br />
            if (default_ == null) default_ = "";<br />
            key = key.replace(/[[]/, "[").replace(/[]]/, "]");<br />
            var regex = new RegExp("[?&]" + key + "=([^&#]*)");<br />
            var qs = regex.exec(window.location.href);<br />
            if (qs == null)<br />
                return default_;<br />
            else<br />
                return qs[1];<br />
        }</code></p>
<p>Para utiliza essa função, basta passar por parâmetro a chave da query string desejada:</p>
<p><code lang="javascript">        //Função que recuperar a querystring cod<br />
        function getValueCod() {<br />
            txt.value = getQuerystring('cod');<br />
        }<br />
</code></p>
<p>O html completo para testar essa funcionalidade fica assim:</p>
<p><code lang="html"><html><br />
<head><br />
    <title>JS</title><br />
</head><br />
<body><br />
    Link com querystring: <a href="index.html?cod=1980">index.html?cod=1980</a></p>
<p>    Recuperar Querystring:<br />
    <input type="text" id="txt" /><br />
    <input type="submit" onclick="getValueCod()" /><br />
    <script type="text/javascript"></p>
<p>        //Função que recuperar a querystring cod<br />
        function getValueCod() {<br />
            txt.value = getQuerystring('cod');<br />
        }</p>
<p>        //Função comum para receuperar querystrings<br />
        function getQuerystring(key, default_) {<br />
            if (default_ == null) default_ = "";<br />
            key = key.replace(/[[]/, "[").replace(/[]]/, "]");<br />
            var regex = new RegExp("[?&]" + key + "=([^&#]*)");<br />
            var qs = regex.exec(window.location.href);<br />
            if (qs == null)<br />
                return default_;<br />
            else<br />
                return qs[1];<br />
        }<br />
    </script><br />
</body><br />
</html></code></p>
